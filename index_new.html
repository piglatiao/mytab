<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ä¸ªäººå¯¼èˆª - é«˜æ•ˆä¸Šç½‘èµ·ç‚¹</title>
  
  <!-- å¼•å…¥å¤–éƒ¨èµ„æº -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  
  <!-- Tailwind é…ç½® -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#4F46E5',
            secondary: '#818CF8',
            accent: '#C7D2FE',
            dark: '#1E293B',
            light: '#F8FAFC'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <!-- è‡ªå®šä¹‰å·¥å…·ç±» -->
  <style type="text/tailwindcss">
    @layer utilities {
      .glass {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      .glass-dark {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .gradient-bg {
        background: linear-gradient(135deg, #4F46E5 0%, #818CF8 100%);
      }
    }
  </style>
  
  <!-- å…¨å±€æ ·å¼ -->
  <style>
    body {
      background-image: url('https://picsum.photos/id/1044/1920/1080');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      font-family: 'Inter', system-ui, sans-serif;
    }
    
    /* æ»šåŠ¨æ¡ç¾åŒ– */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
    }
    ::-webkit-scrollbar-thumb {
      background: rgba(79, 70, 229, 0.5);
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(79, 70, 229, 0.8);
    }
    
    /* åŠ¨ç”»æ•ˆæœ */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fadeIn 0.5s ease forwards;
    }
    
    .card {
      transition: all 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.3);
    }
  </style>
</head>

<body class="text-light min-h-screen" x-data="appData()" x-init="init()">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <header class="glass-dark fixed top-0 left-0 right-0 z-50 px-4 py-3 md:px-6">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fa fa-compass text-2xl text-secondary"></i>
        <h1 class="text-xl md:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-secondary to-accent">
          ä¸ªäººå¯¼èˆª
        </h1>
      </div>
      
      <div class="flex items-center space-x-4">
        <button @click="showSettings = true" class="p-2 rounded-full hover:bg-white/10 transition-colors">
          <i class="fa fa-cog text-xl"></i>
        </button>
        <button @click="mobileSidebarOpen = !mobileSidebarOpen" class="md:hidden p-2 rounded-full hover:bg-white/10 transition-colors">
          <i class="fa fa-bars text-xl"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- ä¸»å†…å®¹åŒº -->
  <main class="container mx-auto pt-24 pb-16 px-4 md:px-6 flex flex-col md:flex-row gap-6">
    <!-- ä¾§è¾¹æ  -->
    <aside class="glass-dark w-full md:w-64 rounded-2xl p-5 hidden md:block animate-fade-in">
      <div class="mb-6">
        <div class="flex items-center space-x-3 mb-4">
          <div class="w-12 h-12 rounded-full gradient-bg flex items-center justify-center">
            <i class="fa fa-user text-xl"></i>
          </div>
          <div>
            <h3 class="font-semibold text-lg">æˆ‘çš„å¯¼èˆª</h3>
            <p class="text-sm text-gray-300">é«˜æ•ˆä¸Šç½‘åŠ©æ‰‹</p>
          </div>
        </div>
      </div>
      
      <!-- åˆ†ç±»å¯¼èˆª -->
      <nav>
        <h3 class="font-semibold text-lg mb-4 flex items-center">
          <i class="fa fa-th-list mr-2 text-secondary"></i>ç½‘ç«™åˆ†ç±»
        </h3>
        <ul class="space-y-1">
          <template x-for="(links, category) in categories" :key="category">
            <li>
              <a :href="'#' + category" 
                 @click.prevent="scrollToCategory(category)"
                 class="flex items-center justify-between space-x-2 p-2 rounded-lg hover:bg-white/10 transition-colors">
                <div class="flex items-center space-x-2">
                  <i x-show="isCategoryLocked(category)" class="fa fa-lock text-yellow-400 text-xs"></i>
                  <span x-text="category"></span>
                </div>
                <span class="text-xs bg-primary/30 px-2 py-0.5 rounded-full" x-text="links.length"></span>
              </a>
            </li>
          </template>
        </ul>
      </nav>
    </aside>

    <!-- ç§»åŠ¨ç«¯ä¾§è¾¹æ  -->
    <div x-show="mobileSidebarOpen" 
         @click.self="mobileSidebarOpen = false"
         class="fixed inset-0 bg-black/50 z-40 md:hidden">
      <div class="glass-dark h-full w-3/4 max-w-xs p-5">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-bold">å¯¼èˆªåˆ†ç±»</h2>
          <button @click="mobileSidebarOpen = false" class="p-2 rounded-full hover:bg-white/10">
            <i class="fa fa-times"></i>
          </button>
        </div>
        <nav class="space-y-2">
          <template x-for="(links, category) in categories" :key="category">
            <a :href="'#' + category" 
               @click.prevent="scrollToCategory(category); mobileSidebarOpen = false"
               class="flex items-center justify-between p-3 rounded-lg hover:bg-white/10 transition-colors block">
              <div class="flex items-center space-x-2">
                <i x-show="isCategoryLocked(category)" class="fa fa-lock text-yellow-400 text-xs"></i>
                <span x-text="category"></span>
              </div>
              <span class="text-xs bg-primary/30 px-2 py-0.5 rounded-full" x-text="links.length"></span>
            </a>
          </template>
        </nav>
      </div>
    </div>

    <!-- ä¸»è¦å†…å®¹ -->
    <div class="flex-1 space-y-8 animate-fade-in">
      <!-- æœç´¢æ¡†åŒºåŸŸ -->
      <section class="glass rounded-2xl p-6 md:p-8">
        <div class="text-center mb-6">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-shadow mb-2">
            å¿«é€Ÿè®¿é—®ä½ å–œçˆ±çš„ç½‘ç«™
          </h2>
          <p class="text-gray-300 max-w-2xl mx-auto">
            ä¸€ç«™å¼å¯¼èˆªï¼Œè®©ä¸Šç½‘æ›´é«˜æ•ˆã€æ›´ä¾¿æ·
          </p>
        </div>
        
        <!-- æœç´¢æ¡† -->
        <div class="max-w-2xl mx-auto relative">
          <form @submit.prevent="doSearch" class="relative">
            <input 
              type="text" 
              x-model="searchQuery"
              placeholder="æœç´¢ç½‘ç«™æˆ–å†…å®¹..." 
              class="w-full px-5 py-4 pr-12 rounded-full glass-dark border border-white/10 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all"
            >
            <button type="submit" class="absolute right-3 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-primary hover:bg-primary/90 transition-colors">
              <i class="fa fa-search"></i>
            </button>
          </form>
          
          <!-- æœç´¢å¼•æ“åˆ‡æ¢ -->
          <div class="flex justify-center space-x-2 mt-4">
            <template x-for="engine in engines" :key="engine.name">
              <button @click="currentEngine = engine"
                      :class="currentEngine.name === engine.name ? 'bg-primary/30' : ''"
                      class="px-3 py-1 rounded-full text-sm glass-dark hover:bg-primary/20 transition-colors">
                <i :class="'fa ' + engine.icon + ' mr-1'"></i>
                <span x-text="engine.name"></span>
              </button>
            </template>
          </div>
        </div>
      </section>
      
      <!-- æ—¶é—´å’Œæ—¥æœŸ -->
      <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="glass rounded-2xl p-6">
          <div class="flex justify-between items-start">
            <div>
              <h3 class="text-lg font-semibold mb-1">å½“å‰æ—¶é—´</h3>
              <p class="text-gray-300 text-sm">ç²¾ç¡®åˆ°ç§’çš„æ—¶é—´æ˜¾ç¤º</p>
            </div>
            <i class="fa fa-clock-o text-2xl text-secondary"></i>
          </div>
          <div class="mt-4">
            <span x-text="timeStr" class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold"></span>
            <p x-text="dateStr" class="text-gray-300 mt-1"></p>
          </div>
        </div>
        
        <div class="glass rounded-2xl p-6">
          <div class="flex justify-between items-start">
            <div>
              <h3 class="text-lg font-semibold mb-1">å¿«æ·æ“ä½œ</h3>
              <p class="text-gray-300 text-sm">å¸¸ç”¨åŠŸèƒ½</p>
            </div>
            <i class="fa fa-star text-2xl text-secondary"></i>
          </div>
          <div class="mt-4 flex gap-2">
            <button @click="showSettings = true" class="flex-1 px-4 py-2 rounded-lg glass hover:bg-white/10 transition-colors">
              <i class="fa fa-cog mr-2"></i>è®¾ç½®
            </button>
            <button @click="exportData" class="flex-1 px-4 py-2 rounded-lg glass hover:bg-white/10 transition-colors">
              <i class="fa fa-download mr-2"></i>å¯¼å‡º
            </button>
          </div>
        </div>
      </section>
      
      <!-- ç½‘ç«™å¯¼èˆªå¡ç‰‡ -->
      <template x-for="(links, category) in categories" :key="category">
        <section :id="category" class="scroll-mt-24">
          <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl md:text-2xl font-bold flex items-center">
              <i :class="isCategoryLocked(category) ? 'fa fa-lock text-yellow-400' : 'fa fa-folder text-secondary'" class="mr-2"></i>
              <span x-text="category"></span>
              <span x-show="isCategoryLocked(category)" class="ml-2 text-sm text-yellow-400">(å·²é”å®š)</span>
            </h2>
            <button @click="showAddBookmark(category)" 
                    x-show="!isCategoryLocked(category)"
                    class="text-sm px-3 py-1 rounded-full glass-dark hover:bg-primary/20 transition-colors">
              <i class="fa fa-plus mr-1"></i> æ·»åŠ ç½‘ç«™
            </button>
          </div>
          
          <!-- é”å®šçŠ¶æ€æ˜¾ç¤º -->
          <div x-show="isCategoryLocked(category)" 
               class="glass rounded-2xl p-8 text-center">
            <i class="fa fa-lock text-6xl text-yellow-400 mb-4"></i>
            <h3 class="text-xl font-bold mb-2">æ­¤åˆ†ç±»å·²è¢«é”å®š</h3>
            <p class="text-gray-300 mb-4">éœ€è¦è¾“å…¥å¯†ç æ‰èƒ½æŸ¥çœ‹å†…å®¹</p>
            <button @click="protectedCategory = category; showPasswordDialog = true" 
                    class="px-6 py-3 rounded-lg bg-primary hover:bg-primary/90 transition-colors font-medium">
              <i class="fa fa-unlock mr-2"></i>è¾“å…¥å¯†ç è§£é”
            </button>
          </div>
          
          <!-- ç½‘ç«™å¡ç‰‡ç½‘æ ¼ -->
          <div x-show="!isCategoryLocked(category)" 
               class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
            <template x-for="link in links" :key="link.url">
              <a :href="link.url" 
                 target="_blank"
                 @click="recordVisit(link)"
                 class="card glass rounded-xl p-4 group">
                <div class="w-12 h-12 rounded-lg bg-white/10 flex items-center justify-center mb-3 group-hover:bg-white/20 transition-colors">
                  <img :src="getIcon(link)" 
                       @error="$el.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23818CF8%22 stroke-width=%222%22%3E%3Cpath d=%22M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71%22/%3E%3Cpath d=%22M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71%22/%3E%3C/svg%3E'"
                       class="w-8 h-8 object-contain"
                       alt="">
                </div>
                <h3 class="font-medium text-sm truncate mb-1" x-text="link.title"></h3>
                <p class="text-xs text-gray-400 truncate" x-text="new URL(link.url).hostname"></p>
              </a>
            </template>
          </div>
        </section>
      </template>
    </div>
  </main>

  <!-- å¯†ç ä¿æŠ¤å¯¹è¯æ¡† -->
  <div x-show="showPasswordDialog" 
       @click.self="showPasswordDialog = false"
       class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
    <div class="glass-dark rounded-2xl p-6 max-w-sm w-full">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold">ğŸ”’ å¯†ç ä¿æŠ¤</h2>
        <button @click="showPasswordDialog = false" class="p-2 rounded-full hover:bg-white/10">
          <i class="fa fa-times"></i>
        </button>
      </div>
      
      <p class="text-gray-300 mb-4">æ­¤åˆ†ç±»éœ€è¦å¯†ç æ‰èƒ½è®¿é—®</p>
      
      <form @submit.prevent="unlock" class="space-y-4">
        <div>
          <input type="password" 
                 x-model="passwordInput"
                 placeholder="è¯·è¾“å…¥å¯†ç "
                 class="w-full px-4 py-3 rounded-lg glass border border-white/10 focus:outline-none focus:ring-2 focus:ring-primary/50"
                 autofocus>
          <p x-show="errorMsg" 
             x-text="errorMsg" 
             class="text-red-400 text-sm mt-2"></p>
        </div>
        
        <button type="submit" 
                class="w-full px-4 py-3 rounded-lg bg-primary hover:bg-primary/90 transition-colors font-medium">
          <i class="fa fa-unlock mr-2"></i>è§£é”
        </button>
        
        <p class="text-xs text-gray-400 text-center">é»˜è®¤å¯†ç : 123456</p>
      </form>
    </div>
  </div>

  <!-- è®¾ç½®å¯¹è¯æ¡† -->
  <div x-show="showSettings" 
       @click.self="showSettings = false"
       class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
    <div class="glass-dark rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold">è®¾ç½®</h2>
        <button @click="showSettings = false" class="p-2 rounded-full hover:bg-white/10">
          <i class="fa fa-times"></i>
        </button>
      </div>
      
      <div class="space-y-6">
        <!-- èƒŒæ™¯è®¾ç½® -->
        <div>
          <label class="block text-sm font-medium mb-2">èƒŒæ™¯å›¾ç‰‡ URL</label>
          <input type="text" 
                 x-model="tempBg"
                 placeholder="è¾“å…¥å›¾ç‰‡é“¾æ¥"
                 class="w-full px-4 py-2 rounded-lg glass border border-white/10 focus:outline-none focus:ring-2 focus:ring-primary/50">
        </div>
        
        <!-- é®ç½©æµ“åº¦ -->
        <div>
          <label class="block text-sm font-medium mb-2">
            èƒŒæ™¯é®ç½©æµ“åº¦: <span x-text="Math.round(bgOpacity * 100) + '%'"></span>
          </label>
          <input type="range" 
                 x-model="bgOpacity"
                 min="0" 
                 max="0.9" 
                 step="0.1"
                 class="w-full">
        </div>
        
        <!-- æŒ‰é’® -->
        <div class="flex gap-3">
          <button @click="saveSettings" 
                  class="flex-1 px-4 py-2 rounded-lg bg-primary hover:bg-primary/90 transition-colors">
            ä¿å­˜è®¾ç½®
          </button>
          <button @click="clearBg" 
                  class="px-4 py-2 rounded-lg glass hover:bg-white/10 transition-colors">
            æ¢å¤é»˜è®¤
          </button>
        </div>
        
        <!-- æ•°æ®ç®¡ç† -->
        <div class="mt-6 pt-6 border-t border-white/10">
          <h3 class="text-lg font-semibold mb-3">æ•°æ®ç®¡ç†</h3>
          <div class="space-y-2">
            <button @click="resetAllData" 
                    class="w-full px-4 py-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-300 transition-colors">
              <i class="fa fa-refresh mr-2"></i>é‡ç½®æ‰€æœ‰æ•°æ®ï¼ˆåŒ…å«ä¹¦ç­¾ï¼‰
            </button>
            <p class="text-xs text-gray-400">âš ï¸ æ­¤æ“ä½œå°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰ä¹¦ç­¾å’Œè®¾ç½®ï¼Œæ¢å¤åˆ°é»˜è®¤çŠ¶æ€</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Alpine.js åº”ç”¨æ•°æ® -->
  <script>
    function appData() {
      return {
        // æœç´¢ç›¸å…³
        searchQuery: '',
        currentEngine: { name: 'Google', url: 'https://www.google.com/search?q=', icon: 'fa-google' },
        engines: [
          { name: 'Google', url: 'https://www.google.com/search?q=', icon: 'fa-google' },
          { name: 'Bing', url: 'https://www.bing.com/search?q=', icon: 'fa-windows' },
          { name: 'Baidu', url: 'https://www.baidu.com/s?wd=', icon: 'fa-paw' }
        ],
        
        // æ—¶é—´æ—¥æœŸ
        timeStr: '',
        dateStr: '',
        
        // UI çŠ¶æ€
        showSettings: false,
        mobileSidebarOpen: false,
        
        // è®¾ç½®ç›¸å…³
        customBg: localStorage.getItem('nav_custom_bg') || '',
        tempBg: localStorage.getItem('nav_custom_bg') || '',
        bgOpacity: parseFloat(localStorage.getItem('nav_bg_opacity')) || 0.4,
        
        // å¯†ç ä¿æŠ¤
        passwordInput: '',
        isUnlocked: false,
        errorMsg: '',
        showPasswordDialog: false,
        protectedCategory: '',
        
        // ä¹¦ç­¾åˆ†ç±»æ•°æ®ï¼ˆä» bookmarks HTML è§£æï¼‰
        categories: {},
        protectedCategories: ['å­¦ä¹ èµ„æº'], // éœ€è¦å¯†ç ä¿æŠ¤çš„åˆ†ç±»
        
        // åˆå§‹åŒ–æ–¹æ³•
        init() {
          this.updateTimer();
          setInterval(() => this.updateTimer(), 1000);
          this.loadBookmarks();
          this.applyBackground();
        },
        
        // æ›´æ–°æ—¶é—´å’Œæ—¥æœŸ
        updateTimer() {
          const now = new Date();
          this.timeStr = now.toLocaleTimeString('zh-CN', {
            hour12: false, 
            hour: '2-digit', 
            minute: '2-digit',
            second: '2-digit'
          });
          this.dateStr = now.toLocaleDateString('zh-CN', {
            year: 'numeric',
            month: 'long', 
            day: 'numeric', 
            weekday: 'long'
          });
        },
        
        // æ‰§è¡Œæœç´¢
        doSearch() {
          if (!this.searchQuery.trim()) return;
          window.open(
            this.currentEngine.url + encodeURIComponent(this.searchQuery), 
            '_blank'
          );
          this.searchQuery = '';
        },
        
        // è·å–ç½‘ç«™å›¾æ ‡
        getIcon(link) {
          if (link.icon && link.icon.startsWith('data:')) return link.icon;
          try {
            const domain = new URL(link.url).hostname;
            return `https://www.google.com/s2/favicons?domain=${domain}&sz=64`;
          } catch(e) {
            return '';
          }
        },
        
        // æ»šåŠ¨åˆ°æŒ‡å®šåˆ†ç±»
        scrollToCategory(categoryName) {
          // æ£€æŸ¥æ˜¯å¦éœ€è¦å¯†ç ä¿æŠ¤
          if (this.protectedCategories.includes(categoryName) && !this.isUnlocked) {
            this.protectedCategory = categoryName;
            this.showPasswordDialog = true;
            return;
          }
          
          const element = document.getElementById(categoryName);
          if (element) {
            element.scrollIntoView({ 
              behavior: 'smooth',
              block: 'start'
            });
          }
        },
        
        // éªŒè¯å¯†ç 
        unlock() {
          const correctPassword = '123456'; // é»˜è®¤å¯†ç 
          
          if (this.passwordInput === correctPassword) {
            this.isUnlocked = true;
            this.errorMsg = '';
            this.showPasswordDialog = false;
            this.passwordInput = '';
            
            // æ»šåŠ¨åˆ°å—ä¿æŠ¤çš„åˆ†ç±»
            if (this.protectedCategory) {
              setTimeout(() => {
                this.scrollToCategory(this.protectedCategory);
              }, 100);
            }
            
            this.showToast('è§£é”æˆåŠŸ', 'success');
          } else {
            this.errorMsg = 'å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•';
            this.passwordInput = '';
            
            setTimeout(() => {
              this.errorMsg = '';
            }, 3000);
          }
        },
        
        // æ£€æŸ¥åˆ†ç±»æ˜¯å¦è¢«é”å®š
        isCategoryLocked(categoryName) {
          return this.protectedCategories.includes(categoryName) && !this.isUnlocked;
        },
        
        // åº”ç”¨èƒŒæ™¯
        applyBackground() {
          if (this.customBg) {
            document.body.style.backgroundImage = `url('${this.customBg}')`;
          }
          document.body.style.setProperty('--bg-opacity', this.bgOpacity);
        },
        
        // ä¿å­˜è®¾ç½®
        saveSettings() {
          if (this.tempBg !== this.customBg) {
            this.customBg = this.tempBg;
            localStorage.setItem('nav_custom_bg', this.tempBg);
          }
          localStorage.setItem('nav_bg_opacity', this.bgOpacity);
          this.showSettings = false;
          this.applyBackground();
          this.showToast('è®¾ç½®å·²ä¿å­˜', 'success');
        },
        
        // æ¸…é™¤èƒŒæ™¯è®¾ç½®
        clearBg() {
          this.customBg = '';
          this.tempBg = '';
          this.bgOpacity = 0.4;
          localStorage.removeItem('nav_custom_bg');
          localStorage.setItem('nav_bg_opacity', 0.4);
          this.showSettings = false;
          document.body.style.backgroundImage = "url('https://picsum.photos/id/1044/1920/1080')";
          this.showToast('å·²æ¢å¤é»˜è®¤è®¾ç½®', 'success');
        },
        
        // é‡ç½®æ‰€æœ‰æ•°æ®
        resetAllData() {
          if (!confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰æ•°æ®å—ï¼Ÿè¿™å°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰ä¹¦ç­¾å’Œè®¾ç½®ï¼')) {
            return;
          }
          
          // æ¸…é™¤æ‰€æœ‰ LocalStorage æ•°æ®
          localStorage.removeItem('nav_bookmarks');
          localStorage.removeItem('nav_custom_bg');
          localStorage.removeItem('nav_bg_opacity');
          
          // é‡æ–°åŠ è½½é»˜è®¤æ•°æ®
          this.loadDefaultBookmarks();
          
          // é‡ç½®è®¾ç½®
          this.customBg = '';
          this.tempBg = '';
          this.bgOpacity = 0.4;
          
          // é‡ç½®è§£é”çŠ¶æ€
          this.isUnlocked = false;
          
          // å…³é—­è®¾ç½®å¯¹è¯æ¡†
          this.showSettings = false;
          
          // æ¢å¤é»˜è®¤èƒŒæ™¯
          document.body.style.backgroundImage = "url('https://picsum.photos/id/1044/1920/1080')";
          
          this.showToast('æ‰€æœ‰æ•°æ®å·²é‡ç½®ï¼ŒåŒ…å«å­¦ä¹ èµ„æºåˆ†ç±»', 'success');
          
          // åˆ·æ–°é¡µé¢ä»¥ç¡®ä¿æ‰€æœ‰çŠ¶æ€æ­£ç¡®
          setTimeout(() => {
            location.reload();
          }, 1500);
        },
        
        // è®°å½•è®¿é—®ç»Ÿè®¡
        recordVisit(link) {
          if (!link.visitCount) link.visitCount = 0;
          link.visitCount++;
          link.lastVisit = Date.now();
          this.saveBookmarks();
        },
        
        // æ˜¾ç¤ºæ·»åŠ ä¹¦ç­¾å¯¹è¯æ¡†
        showAddBookmark(categoryName) {
          const title = prompt('è¯·è¾“å…¥ç½‘ç«™æ ‡é¢˜:');
          if (!title) return;
          
          const url = prompt('è¯·è¾“å…¥ç½‘ç«™URL:');
          if (!url) return;
          
          if (!this.categories[categoryName]) {
            this.categories[categoryName] = [];
          }
          
          this.categories[categoryName].push({
            title: title,
            url: url,
            visitCount: 0,
            lastVisit: 0
          });
          
          this.saveBookmarks();
          this.showToast('ä¹¦ç­¾æ·»åŠ æˆåŠŸ', 'success');
        },
        
        // åŠ è½½ä¹¦ç­¾æ•°æ®
        loadBookmarks() {
          const saved = localStorage.getItem('nav_bookmarks');
          if (saved) {
            try {
              this.categories = JSON.parse(saved);
            } catch(e) {
              console.error('åŠ è½½ä¹¦ç­¾å¤±è´¥:', e);
              this.loadDefaultBookmarks();
            }
          } else {
            this.loadDefaultBookmarks();
          }
        },
        
        // åŠ è½½é»˜è®¤ä¹¦ç­¾ï¼ˆä» bookmarks HTML è§£æï¼‰
        loadDefaultBookmarks() {
          this.categories = {
            "ä¹¦ç­¾æ ": [
              {title: "Gmail", url: "https://accounts.google.com/b/0/AddMailService"},
              {title: "YouTube", url: "https://youtube.com/"},
              {title: "åœ°å›¾", url: "https://maps.google.com/"},
              {title: "å…è´¹èŠ‚ç‚¹", url: "https://nodefree.org/f/freenode"},
              {title: "LIBVIO", url: "https://www.libvio.fun/"}
            ],
            "èµ„æº": [
              {title: "å“ˆå¸Œè§†ç•Œ", url: "https://www.haxishijie.com/"},
              {title: "AIæ™ºèƒ½åŠ©æ‰‹", url: "https://9977ai.vip/"},
              {title: "å“²é£å£çº¸", url: "https://haowallpaper.com/wallpaperForum"}
            ],
            "æœºåœº": [
              {title: "ä¸€åˆ†æœºåœº", url: "https://xn--4gqx1hgtfdmt.com/#/register?code=20rNmKrh"},
              {title: "è¿½äº‘åŠ é€Ÿ", url: "https://top2.chasing.sbs/#/login"},
              {title: "èµ”é’±æœºåœº", url: "https://xn--mes358aby2apfg.com/#/plan/5"}
            ],
            "å¯¼èˆª": [
              {title: "è€ç‹å¯¼èˆª", url: "https://nav.eooce.com/"},
              {title: "9Gç½‘å€å¯¼èˆª", url: "https://www.9ghao.com/"},
              {title: "é«˜è€å››å¯¼èˆª", url: "https://www.oom.cool/"}
            ],
            "å·¥å…·": [
              {title: "QingIconå›¾æ ‡", url: "https://qingicon.com/"},
              {title: "ä¸´æ—¶é‚®ç®±", url: "https://tempmail.plus/zh/#!"},
              {title: "ç¾å›½è™šæ‹Ÿèº«ä»½", url: "https://fauxid.com/"},
              {title: "å…è´¹åŸŸå", url: "https://dash.domain.digitalplat.org/panel/main"},
              {title: "cobaltè§†é¢‘ä¸‹è½½", url: "https://cobalt.tools/"},
              {title: "Bç«™è§†é¢‘ä¸‹è½½", url: "https://zhouql.vip/bilibili/"},
              {title: "Google AI Studio", url: "https://aistudio.google.com/apps"}
            ],
            "å­¦ä¹ èµ„æº": [
              {title: "SpankBang", url: "https://spankbang.com/"},
              {title: "Redtube", url: "https://www.hd-easyporn.com/category/redtube-porn/"},
              {title: "xHamster", url: "https://xhamster.com/tags/redtube"},
              {title: "BongaCams", url: "https://www.xvideos.com/channels/bongacams"},
              {title: "Chaturbate", url: "https://chaturbate.com/"},
              {title: "LiveJasmin", url: "https://www.livejasmin.com/zh/%E5%A5%B3%E5%AD%A9"},
              {title: "XNXX", url: "https://www.xnxx.com/"},
              {title: "Pornhub", url: "https://www.pornhub.com/"},
              {title: "XVIDEOS", url: "https://www.xvideos.com/"},
              {title: "YouPorn", url: "https://www.you-porn.com/"}
            ]
          };
          this.saveBookmarks();
        },
        
        // ä¿å­˜ä¹¦ç­¾æ•°æ®
        saveBookmarks() {
          try {
            localStorage.setItem('nav_bookmarks', JSON.stringify(this.categories));
          } catch(e) {
            console.error('ä¿å­˜ä¹¦ç­¾å¤±è´¥:', e);
            this.showToast('ä¿å­˜å¤±è´¥ï¼šå­˜å‚¨ç©ºé—´ä¸è¶³', 'error');
          }
        },
        
        // å¯¼å‡ºæ•°æ®
        exportData() {
          const data = {
            bookmarks: this.categories,
            settings: {
              customBg: this.customBg,
              bgOpacity: this.bgOpacity
            },
            exportDate: new Date().toISOString()
          };
          
          const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `bookmarks_${new Date().toISOString().split('T')[0]}.json`;
          a.click();
          URL.revokeObjectURL(url);
          
          this.showToast('æ•°æ®å¯¼å‡ºæˆåŠŸ', 'success');
        },
        
        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        showToast(message, type = 'info') {
          const toast = document.createElement('div');
          toast.className = `fixed top-6 right-6 z-[200] px-6 py-4 rounded-xl shadow-2xl backdrop-blur-md transform transition-all duration-300`;
          
          const styles = {
            success: 'bg-green-500/90 text-white border border-green-400/50',
            error: 'bg-red-500/90 text-white border border-red-400/50',
            info: 'bg-blue-500/90 text-white border border-blue-400/50'
          };
          
          toast.className += ' ' + (styles[type] || styles.info);
          toast.innerHTML = `
            <div class="flex items-center gap-3">
              <i class="fa fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'} text-xl"></i>
              <span class="font-medium">${message}</span>
            </div>
          `;
          
          document.body.appendChild(toast);
          
          setTimeout(() => {
            toast.style.transform = 'translateX(400px)';
            toast.style.opacity = '0';
            setTimeout(() => toast.remove(), 300);
          }, 3000);
        }
      }
    }
  </script>
</body>
</html>
